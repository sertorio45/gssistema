var L=Object.defineProperty;var U=(a,r,e)=>r in a?L(a,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[r]=e;var p=(a,r,e)=>U(a,typeof r!="symbol"?r+"":r,e);import{W as j,X as S,Y as P,r as O,Z as q,$ as F,a0 as V,a1 as I,a2 as H,K,a3 as T,a4 as N,a5 as k,u as G,J,a6 as b,a7 as Y,a8 as W}from"./xwqOR6O6.js";const X=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Z=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",D=[];class Q{constructor(){p(this,"_data",new C);p(this,"_hash",new C([...X]));p(this,"_nDataBytes",0);p(this,"_minBufferSize",0)}finalize(r){r&&this._append(r);const e=this._nDataBytes*8,s=this._data.sigBytes*8;return this._data.words[s>>>5]|=128<<24-s%32,this._data.words[(s+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(s+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(r,e){const s=this._hash.words;let t=s[0],o=s[1],f=s[2],n=s[3],c=s[4],d=s[5],l=s[6],i=s[7];for(let h=0;h<64;h++){if(h<16)D[h]=r[e+h]|0;else{const u=D[h-15],v=(u<<25|u>>>7)^(u<<14|u>>>18)^u>>>3,m=D[h-2],M=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;D[h]=v+D[h-7]+M+D[h-16]}const _=c&d^~c&l,B=t&o^t&f^o&f,E=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),y=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),w=i+y+_+Z[h]+D[h],g=E+B;i=l,l=d,d=c,c=n+w|0,n=f,f=o,o=t,t=w+g|0}s[0]=s[0]+t|0,s[1]=s[1]+o|0,s[2]=s[2]+f|0,s[3]=s[3]+n|0,s[4]=s[4]+c|0,s[5]=s[5]+d|0,s[6]=s[6]+l|0,s[7]=s[7]+i|0}_append(r){typeof r=="string"&&(r=C.fromUtf8(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_process(r){let e,s=this._data.sigBytes/64;r?s=Math.ceil(s):s=Math.max((s|0)-this._minBufferSize,0);const t=s*16,o=Math.min(t*4,this._data.sigBytes);if(t){for(let f=0;f<t;f+=16)this._doProcessBlock(this._data.words,f);e=this._data.words.splice(0,t),this._data.sigBytes-=o}return new C(e,o)}}class C{constructor(r,e){p(this,"words");p(this,"sigBytes");r=this.words=r||[],this.sigBytes=e===void 0?r.length*4:e}static fromUtf8(r){const e=unescape(encodeURIComponent(r)),s=e.length,t=[];for(let o=0;o<s;o++)t[o>>>2]|=(e.charCodeAt(o)&255)<<24-o%4*8;return new C(t,s)}toBase64(){const r=[];for(let e=0;e<this.sigBytes;e+=3){const s=this.words[e>>>2]>>>24-e%4*8&255,t=this.words[e+1>>>2]>>>24-(e+1)%4*8&255,o=this.words[e+2>>>2]>>>24-(e+2)%4*8&255,f=s<<16|t<<8|o;for(let n=0;n<4&&e*8+n*6<this.sigBytes*8;n++)r.push($.charAt(f>>>6*(3-n)&63))}return r.join("")}concat(r){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<r.sigBytes;e++){const s=r.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=s<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<r.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=r.words[e>>>2];this.sigBytes+=r.sigBytes}}function ee(a){return new Q().finalize(a).toBase64()}function ae(a){return ee(j(a))}const te=a=>a==="defer"||a===!1;function re(...a){var E;const r=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(r);let[e,s,t={}]=a;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const o=S(),f=s,n=()=>P.value,c=()=>o.isHydrating?o.payload.data[e]:o.static.data[e];t.server??(t.server=!0),t.default??(t.default=n),t.getCachedData??(t.getCachedData=c),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=P.deep),t.dedupe??(t.dedupe="cancel");const d=t.getCachedData(e,o),l=d!=null;if(!o._asyncData[e]||!t.immediate){(E=o.payload._errors)[e]??(E[e]=P.errorValue);const y=t.deep?O:q;o._asyncData[e]={data:y(l?d:t.default()),pending:O(!l),error:F(o.payload._errors,e),status:O("idle"),_default:t.default}}const i={...o._asyncData[e]};delete i._default,i.refresh=i.execute=(y={})=>{if(o._asyncDataPromises[e]){if(te(y.dedupe??t.dedupe))return o._asyncDataPromises[e];o._asyncDataPromises[e].cancelled=!0}if(y._initial||o.isHydrating&&y._initial!==!1){const g=y._initial?d:t.getCachedData(e,o);if(g!=null)return Promise.resolve(g)}i.pending.value=!0,i.status.value="pending";const w=new Promise((g,u)=>{try{g(f(o))}catch(v){u(v)}}).then(async g=>{if(w.cancelled)return o._asyncDataPromises[e];let u=g;t.transform&&(u=await t.transform(g)),t.pick&&(u=oe(u,t.pick)),o.payload.data[e]=u,i.data.value=u,i.error.value=P.errorValue,i.status.value="success"}).catch(g=>{if(w.cancelled)return o._asyncDataPromises[e];i.error.value=k(g),i.data.value=G(t.default()),i.status.value="error"}).finally(()=>{w.cancelled||(i.pending.value=!1,delete o._asyncDataPromises[e])});return o._asyncDataPromises[e]=w,o._asyncDataPromises[e]},i.clear=()=>se(o,e);const h=()=>i.refresh({_initial:!0}),_=t.server!==!1&&o.payload.serverRendered;{const y=V();if(y&&_&&t.immediate&&!y.sp&&(y.sp=[]),y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const u=y._nuxtOnBeforeMountCbs;I(()=>{u.forEach(v=>{v()}),u.splice(0,u.length)}),H(()=>u.splice(0,u.length))}_&&o.isHydrating&&(i.error.value||d!=null)?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):y&&(o.payload.serverRendered&&o.isHydrating||t.lazy)&&t.immediate?y._nuxtOnBeforeMountCbs.push(h):t.immediate&&h();const w=N();if(t.watch){const u=K(t.watch,()=>i.refresh());w&&T(u)}const g=o.hook("app:data:refresh",async u=>{(!u||u.includes(e))&&await i.refresh()});w&&T(g)}const B=Promise.resolve(o._asyncDataPromises[e]).then(()=>i);return Object.assign(B,i),B}function se(a,r){r in a.payload.data&&(a.payload.data[r]=void 0),r in a.payload._errors&&(a.payload._errors[r]=P.errorValue),a._asyncData[r]&&(a._asyncData[r].data.value=void 0,a._asyncData[r].error.value=P.errorValue,a._asyncData[r].pending.value=!1,a._asyncData[r].status.value="idle"),r in a._asyncDataPromises&&(a._asyncDataPromises[r]&&(a._asyncDataPromises[r].cancelled=!0),a._asyncDataPromises[r]=void 0)}function oe(a,r){const e={};for(const s of r)e[s]=a[s];return e}function x(a,r,e){const[s={},t]=typeof r=="string"?[{},r]:[r,e],o=J(()=>b(a)),f=s.key||ae([t,typeof o.value=="string"?o.value:"",...ie(s)]);if(!f||typeof f!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+f);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const n=f===t?"$f"+f:f;if(!s.baseURL&&typeof o.value=="string"&&o.value[0]==="/"&&o.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:c,lazy:d,default:l,transform:i,pick:h,watch:_,immediate:B,getCachedData:E,deep:y,dedupe:w,...g}=s,u=Y({...W,...g,cache:typeof s.cache=="boolean"?void 0:s.cache}),v={server:c,lazy:d,default:l,transform:i,pick:h,immediate:B,getCachedData:E,deep:y,dedupe:w,watch:_===!1?[]:[u,o,..._||[]]};let m;return re(n,()=>{var R;(R=m==null?void 0:m.abort)==null||R.call(m,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),m=typeof AbortController<"u"?new AbortController:{};const A=b(s.timeout);let z;return A&&(z=setTimeout(()=>m.abort(new DOMException("Request aborted due to timeout.","AbortError")),A),m.signal.onabort=()=>clearTimeout(z)),(s.$fetch||globalThis.$fetch)(o.value,{signal:m.signal,...u}).finally(()=>{clearTimeout(z)})},v)}function ie(a){var e;const r=[((e=b(a.method))==null?void 0:e.toUpperCase())||"GET",b(a.baseURL)];for(const s of[a.params||a.query]){const t=b(s);if(!t)continue;const o={};for(const[f,n]of Object.entries(t))o[b(f)]=b(n);r.push(o)}return r}function ue(){const{$toast:a}=S();return{getArticles:async()=>{var n;try{const{data:c}=await x("/api/articles","$z84PxVLmL-");return((n=c.value)==null?void 0:n.data)||[]}catch(c){return console.error("Erro ao buscar artigos:",c),a==null||a.error("Erro ao buscar artigos"),[]}},getArticle:async n=>{var c;try{const{data:d}=await x(`/api/articles/${n}`,"$Jyz0VL7hfH");return(c=d.value)==null?void 0:c.data}catch(d){return console.error(`Erro ao buscar artigo ID ${n}:`,d),a==null||a.error("Erro ao buscar artigo"),null}},createArticle:async n=>{var c,d;try{const{data:l,error:i}=await x("/api/articles",{method:"POST",body:n},"$YfbMiofThc");if(i.value)throw new Error(i.value.message);if((c=l.value)!=null&&c.success)return a==null||a.success("Artigo criado com sucesso"),l.value.data;throw new Error(((d=l.value)==null?void 0:d.error)||"Erro ao criar artigo")}catch(l){return console.error("Erro ao criar artigo:",l),a==null||a.error(l instanceof Error?l.message:"Erro ao criar artigo"),null}},updateArticle:async(n,c)=>{var d,l;try{const{data:i,error:h}=await x(`/api/articles/${n}`,{method:"PUT",body:c},"$6xNf4rxqcj");if(h.value)throw new Error(h.value.message);if((d=i.value)!=null&&d.success)return a==null||a.success("Artigo atualizado com sucesso"),i.value.data;throw new Error(((l=i.value)==null?void 0:l.error)||"Erro ao atualizar artigo")}catch(i){return console.error(`Erro ao atualizar artigo ID ${n}:`,i),a==null||a.error(i instanceof Error?i.message:"Erro ao atualizar artigo"),null}},deleteArticle:async n=>{var c,d;try{const{data:l,error:i}=await x(`/api/articles/${n}`,{method:"DELETE"},"$t51GiFBOzL");if(i.value)throw new Error(i.value.message);if((c=l.value)!=null&&c.success)return a==null||a.success("Artigo exclu√≠do com sucesso"),!0;throw new Error(((d=l.value)==null?void 0:d.error)||"Erro ao excluir artigo")}catch(l){return console.error(`Erro ao excluir artigo ID ${n}:`,l),a==null||a.error(l instanceof Error?l.message:"Erro ao excluir artigo"),!1}},generateSlug:n=>n.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}}const de=[{value:"draft",label:"Rascunho",icon:"i-radix-icons-pencil-1"},{value:"published",label:"Publicado",icon:"i-radix-icons-check"},{value:"archived",label:"Arquivado",icon:"i-radix-icons-archive"}];export{re as a,de as s,ue as u};
