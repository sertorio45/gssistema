import{d as T,c as v,o,b as e,w as a,f as R,a as p,g as _,t as x,i as z,e as w,n as H,u as $,m as ae,J as j,s as X,P as b,F as D,y as M,h as F,k as se,U as oe,r as N,V as U,I as le,x as re,z as ie}from"./xwqOR6O6.js";import{_ as Q}from"./r0d-qSGj.js";import{s as Y,u as ue,a as ce}from"./C-GWNJw8.js";import{_ as L,a as E,b as Z,c as K}from"./dKqSftqD.js";import{_ as q,a as de}from"./m5Hx1YQ5.js";import{z as y}from"./BKTptsQI.js";import{_ as me,a as pe,d as _e,e as fe,b as ge,c as we}from"./IvlsLNxC.js";import{u as ve,g as be,a as xe,b as ye,c as he,d as $e,e as Ce,F as W}from"./DRp5FhS2.js";import{d as ke,_ as Se,a as Ve,b as Fe,c as De}from"./DAVZSaiA.js";import{_ as Ie}from"./BcUF11S_.js";import{_ as Me,a as Te,b as Pe}from"./CE3GPlgZ.js";import{_ as Re,a as ze,b as Ae,c as Be,d as je,e as Ne}from"./CdQc-CZB.js";import{_ as Ue}from"./k3PMkjmg.js";import{_ as He}from"./he2xY0pT.js";import"./grQwXo7S.js";import"./Dh0mtVW8.js";const Le={inheritAttrs:!1},B=T({...Le,__name:"DataTableColumnHeader",props:{column:{},title:{}},setup(s){return(t,n)=>{const l=z,r=R,c=L,u=Z,i=q,d=E,f=K;return t.column.getCanSort()?(o(),v("div",{key:0,class:H($(ae)("flex items-center space-x-2",t.$attrs.class??""))},[e(f,null,{default:a(()=>[e(c,{"as-child":""},{default:a(()=>[e(r,{variant:"ghost",size:"sm",class:"h-8 -ml-3 data-[state=open]:bg-accent"},{default:a(()=>[p("span",null,x(t.title),1),t.column.getIsSorted()==="desc"?(o(),_(l,{key:0,name:"i-radix-icons-arrow-down",class:"ml-2 h-4 w-4"})):t.column.getIsSorted()==="asc"?(o(),_(l,{key:1,name:"i-radix-icons-arrow-up",class:"ml-2 h-4 w-4"})):(o(),_(l,{key:2,name:"i-radix-icons-caret-sort",class:"ml-2 h-4 w-4"}))]),_:1})]),_:1}),e(d,{align:"start"},{default:a(()=>[e(u,{onClick:n[0]||(n[0]=m=>t.column.toggleSorting(!1))},{default:a(()=>[e(l,{name:"i-radix-icons-arrow-up",class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),n[3]||(n[3]=w(" Ascendente "))]),_:1}),e(u,{onClick:n[1]||(n[1]=m=>t.column.toggleSorting(!0))},{default:a(()=>[e(l,{name:"i-radix-icons-arrow-down",class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),n[4]||(n[4]=w(" Descendente "))]),_:1}),e(i),e(u,{onClick:n[2]||(n[2]=m=>t.column.toggleVisibility(!1))},{default:a(()=>[e(l,{name:"i-radix-icons-eye-none",class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),n[5]||(n[5]=w(" Ocultar "))]),_:1})]),_:1})]),_:1})],2)):(o(),v("div",{key:1,class:H(t.$attrs.class)},x(t.title),3))}}}),Ee=y.object({id:y.string(),title:y.string(),content:y.string(),meta_description:y.string().nullable(),slug:y.string(),status:y.string(),categories:y.string().nullable(),tags:y.string().nullable(),created_at:y.string().or(y.date()),updated_at:y.string().or(y.date())}),Ke=T({__name:"DataTableRowActions",props:{row:{}},setup(s){const t=s,n=j(()=>Ee.parse(t.row.original)),l=X();function r(){l.push(`/articles/edit/${n.value.id}`)}function c(){l.push(`/articles/${n.value.id}`)}return(u,i)=>{const d=z,f=R,m=L,h=Z,C=q,k=E,I=K;return o(),_(I,null,{default:a(()=>[e(m,{"as-child":""},{default:a(()=>[e(f,{variant:"ghost",class:"h-8 w-8 flex p-0 data-[state=open]:bg-muted"},{default:a(()=>[e(d,{name:"i-radix-icons-dots-horizontal",class:"h-4 w-4"}),i[0]||(i[0]=p("span",{class:"sr-only"},"Abrir menu",-1))]),_:1})]),_:1}),e(k,{align:"end",class:"w-[160px]"},{default:a(()=>[e(h,{onClick:c},{default:a(()=>[e(d,{name:"radix-icons:eye-open",class:"mr-2 h-4 w-4"}),i[1]||(i[1]=w(" Visualizar "))]),_:1}),e(h,{onClick:r},{default:a(()=>[e(d,{name:"i-radix-icons-pencil-1",class:"mr-2 h-4 w-4"}),i[2]||(i[2]=w(" Editar "))]),_:1}),e(C),e(h,{class:"text-destructive"},{default:a(()=>[e(d,{name:"i-radix-icons-trash",class:"mr-2 h-4 w-4"}),i[3]||(i[3]=w(" Excluir "))]),_:1})]),_:1})]),_:1})}}}),qe=[{id:"select",header:({table:s})=>b(Q,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:checked":t=>s.toggleAllPageRowsSelected(!!t),ariaLabel:"Selecionar todos",class:"translate-y-0.5"}),cell:({row:s})=>b(Q,{checked:s.getIsSelected(),"onUpdate:checked":t=>s.toggleSelected(!!t),ariaLabel:"Selecionar linha",class:"translate-y-0.5"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:({column:s})=>b(B,{column:s,title:"ID"}),cell:({row:s})=>b("div",{class:"w-20"},s.getValue("id")),enableSorting:!1,enableHiding:!1},{accessorKey:"title",header:({column:s})=>b(B,{column:s,title:"Título"}),cell:({row:s})=>b("span",{class:"max-w-[500px] truncate font-medium"},s.getValue("title"))},{accessorKey:"slug",header:({column:s})=>b(B,{column:s,title:"Slug"}),cell:({row:s})=>b("span",{class:"max-w-[200px] truncate text-muted-foreground"},s.getValue("slug"))},{accessorKey:"status",header:({column:s})=>b(B,{column:s,title:"Status"}),cell:({row:s})=>{const t=Y.find(n=>n.value===s.getValue("status"));return t?b("div",{class:"flex w-[100px] items-center"},[t.icon&&b("i",{class:`${t.icon} mr-2 h-4 w-4 text-muted-foreground`}),b("span",t.label)]):null},filterFn:(s,t,n)=>n.includes(s.getValue(t))},{accessorKey:"updated_at",header:({column:s})=>b(B,{column:s,title:"Atualizado"}),cell:({row:s})=>{const t=new Date(s.getValue("updated_at")),n=new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(t);return b("span",{class:"text-muted-foreground"},n)}},{id:"actions",cell:({row:s})=>b(Ke,{row:s})}],Ge={class:"flex items-center justify-between px-2"},Oe={class:"flex-1 text-sm text-muted-foreground"},Je={class:"flex items-center space-x-6 lg:space-x-8"},Qe={class:"flex items-center space-x-2"},We={class:"flex w-[100px] items-center justify-center text-sm font-medium"},Xe={class:"flex items-center space-x-2"},Ye=T({__name:"DataTablePagination",props:{table:{}},setup(s){return(t,n)=>{const l=Ve,r=Se,c=De,u=Fe,i=ke,d=z,f=R;return o(),v("div",Ge,[p("div",Oe,x(t.table.getFilteredSelectedRowModel().rows.length)+" de "+x(t.table.getFilteredRowModel().rows.length)+" linha(s) selecionada(s). ",1),p("div",Je,[p("div",Qe,[n[5]||(n[5]=p("p",{class:"text-sm font-medium"},"Linhas por página",-1)),e(i,{"model-value":t.table.getState().pagination.pageSize.toString(),"onUpdate:modelValue":n[0]||(n[0]=m=>t.table.setPageSize(Number(m))),"default-value":"10"},{default:a(()=>[e(r,{class:"h-8 w-[70px]"},{default:a(()=>[e(l,{placeholder:"10"})]),_:1}),e(u,null,{default:a(()=>[(o(),v(D,null,M([10,20,30,40,50],m=>e(c,{key:m,value:m.toString()},{default:a(()=>[w(x(m),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"])]),p("div",We," Página "+x(t.table.getState().pagination.pageIndex+1)+" de "+x(t.table.getPageCount()),1),p("div",Xe,[e(f,{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!t.table.getCanPreviousPage(),onClick:n[1]||(n[1]=m=>t.table.setPageIndex(0))},{default:a(()=>[n[6]||(n[6]=p("span",{class:"sr-only"},"Ir para a primeira página",-1)),e(d,{name:"i-radix-icons-double-arrow-left",class:"h-4 w-4"})]),_:1},8,["disabled"]),e(f,{variant:"outline",class:"h-8 w-8 p-0",disabled:!t.table.getCanPreviousPage(),onClick:n[2]||(n[2]=m=>t.table.previousPage())},{default:a(()=>[n[7]||(n[7]=p("span",{class:"sr-only"},"Ir para a página anterior",-1)),e(d,{name:"i-radix-icons-chevron-left",class:"h-4 w-4"})]),_:1},8,["disabled"]),e(f,{variant:"outline",class:"h-8 w-8 p-0",disabled:!t.table.getCanNextPage(),onClick:n[3]||(n[3]=m=>t.table.nextPage())},{default:a(()=>[n[8]||(n[8]=p("span",{class:"sr-only"},"Ir para a próxima página",-1)),e(d,{name:"i-radix-icons-chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"]),e(f,{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!t.table.getCanNextPage(),onClick:n[4]||(n[4]=m=>t.table.setPageIndex(t.table.getPageCount()-1))},{default:a(()=>[n[9]||(n[9]=p("span",{class:"sr-only"},"Ir para a última página",-1)),e(d,{name:"i-radix-icons-double-arrow-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])])}}}),Ze={class:"hidden lg:flex space-x-1"},et={class:"flex items-center gap-2"},tt={key:0,class:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs"},nt=T({__name:"DataTableFacetedFilter",props:{column:{},title:{},options:{}},setup(s){const t=s,n=j(()=>{var r;return(r=t.column)==null?void 0:r.getFacetedUniqueValues()}),l=j(()=>{var r;return new Set((r=t.column)==null?void 0:r.getFilterValue())});return(r,c)=>{const u=z,i=se,d=oe,f=R,m=Te,h=ze,C=Be,k=Ne,I=je,P=Ue,S=Ae,A=Re,ee=Pe,te=Me;return o(),_(te,null,{default:a(()=>[e(m,{"as-child":""},{default:a(()=>[e(f,{variant:"outline",size:"sm",class:"h-8 border-dashed"},{default:a(()=>[e(u,{name:"i-radix-icons-plus-circled",class:"mr-2 h-4 w-4"}),w(" "+x(r.title)+" ",1),l.value.size>0?(o(),v(D,{key:0},[e(i,{orientation:"vertical",class:"mx-2 h-4"}),e(d,{variant:"secondary",class:"rounded-sm px-1 font-normal lg:hidden"},{default:a(()=>[w(x(l.value.size),1)]),_:1}),p("div",Ze,[l.value.size>2?(o(),_(d,{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:a(()=>[w(x(l.value.size)+" selecionados ",1)]),_:1})):(o(!0),v(D,{key:1},M(r.options.filter(g=>l.value.has(g.value)),g=>(o(),_(d,{key:g.value,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:a(()=>[w(x(g.label),1)]),_:2},1024))),128))])],64)):F("",!0)]),_:1})]),_:1}),e(ee,{class:"w-[200px] p-0",align:"start"},{default:a(()=>[e(A,null,{default:a(()=>[e(h,{placeholder:"Buscar..."}),e(S,null,{default:a(()=>[e(C,null,{default:a(()=>c[1]||(c[1]=[w("Nenhum resultado.")])),_:1}),e(I,null,{default:a(()=>[(o(!0),v(D,null,M(r.options,g=>(o(),_(k,{key:g.value,value:g.value,onClick:()=>{var O,J;const V=((O=r.column)==null?void 0:O.getFilterValue())??[],G=V.includes(g.value)?V.filter(ne=>ne!==g.value):[...V,g.value];(J=r.column)==null||J.setFilterValue(G.length?G:void 0)}},{default:a(()=>{var V;return[p("div",{class:H(["mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",{"bg-primary text-primary-foreground":l.value.has(g.value),"opacity-50":!l.value.has(g.value)&&l.value.size>0}])},[l.value.has(g.value)?(o(),_(u,{key:0,name:"i-radix-icons-check",class:"h-4 w-4"})):F("",!0)],2),p("div",et,[g.icon?(o(),v("i",{key:0,class:H(`${g.icon} h-4 w-4 text-muted-foreground`)},null,2)):F("",!0),p("span",null,x(g.label),1)]),(V=n.value)!=null&&V.get(g.value)?(o(),v("div",tt,x(n.value.get(g.value)),1)):F("",!0)]}),_:2},1032,["value","onClick"]))),128))]),_:1}),l.value.size>0?(o(),_(P,{key:0})):F("",!0),l.value.size>0?(o(),_(I,{key:1},{default:a(()=>[e(k,{onClick:c[0]||(c[0]=g=>{var V;return(V=r.column)==null?void 0:V.setFilterValue(void 0)}),class:"justify-center text-center"},{default:a(()=>c[2]||(c[2]=[w(" Limpar Filtros ")])),_:1})]),_:1})):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}}),at=T({__name:"DataTableViewOptions",props:{table:{}},setup(s){const t=s,n=j(()=>t.table.getAllColumns().filter(l=>typeof l.accessorFn<"u"&&l.getCanHide()));return(l,r)=>{const c=z,u=R,i=L,d=de,f=q,m=He,h=E,C=K;return o(),_(C,null,{default:a(()=>[e(i,{"as-child":""},{default:a(()=>[e(u,{variant:"outline",size:"sm",class:"ml-auto hidden h-8 lg:flex"},{default:a(()=>[e(c,{name:"i-radix-icons-mixer-horizontal",class:"mr-2 h-4 w-4"}),r[0]||(r[0]=w(" Visualização "))]),_:1})]),_:1}),e(h,{align:"end",class:"w-[180px]"},{default:a(()=>[e(d,null,{default:a(()=>r[1]||(r[1]=[w("Alternar colunas")])),_:1}),e(f),(o(!0),v(D,null,M(n.value,k=>(o(),_(m,{key:k.id,class:"capitalize",checked:k.getIsVisible(),"onUpdate:checked":I=>k.toggleVisibility(!!I)},{default:a(()=>[w(x(k.id),1)]),_:2},1032,["checked","onUpdate:checked"]))),128))]),_:1})]),_:1})}}}),st={class:"flex flex-wrap items-center justify-between gap-2"},ot={class:"flex flex-1 items-center space-x-2"},lt={class:"flex items-center space-x-2"},rt=T({__name:"DataTableToolbar",props:{table:{}},setup(s){const t=s,n=X(),l=j(()=>t.table.getState().columnFilters.length>0);function r(){n.push("/articles/create")}return(c,u)=>{var m;const i=Ie,d=z,f=R;return o(),v("div",st,[p("div",ot,[e(i,{placeholder:"Filtrar artigos...","model-value":((m=c.table.getColumn("title"))==null?void 0:m.getFilterValue())??"",class:"h-8 w-[150px] lg:w-[250px]",onInput:u[0]||(u[0]=h=>{var C;return(C=c.table.getColumn("title"))==null?void 0:C.setFilterValue(h.target.value)})},null,8,["model-value"]),c.table.getColumn("status")?(o(),_(nt,{key:0,column:c.table.getColumn("status"),title:"Status",options:$(Y)},null,8,["column","options"])):F("",!0),l.value?(o(),_(f,{key:1,variant:"ghost",class:"h-8 px-2 lg:px-3",onClick:u[1]||(u[1]=h=>c.table.resetColumnFilters())},{default:a(()=>[u[2]||(u[2]=w(" Redefinir ")),e(d,{name:"i-radix-icons-cross-2",class:"ml-2 h-4 w-4"})]),_:1})):F("",!0)]),p("div",lt,[e(f,{onClick:r,size:"sm",class:"h-8"},{default:a(()=>[e(d,{name:"i-radix-icons-plus",class:"mr-2 h-4 w-4"}),u[3]||(u[3]=w(" Novo Artigo "))]),_:1}),e(at,{table:c.table},null,8,["table"])])])}}}),it={class:"space-y-4"},ut={class:"border rounded-md"},ct=T({__name:"DataTable",props:{columns:{},data:{}},setup(s){const t=s,n=N([]),l=N([]),r=N({}),c=N({}),u=ve({get data(){return t.data},get columns(){return t.columns},state:{get sorting(){return n.value},get columnFilters(){return l.value},get columnVisibility(){return r.value},get rowSelection(){return c.value}},enableRowSelection:!0,onSortingChange:i=>U(i,n),onColumnFiltersChange:i=>U(i,l),onColumnVisibilityChange:i=>U(i,r),onRowSelectionChange:i=>U(i,c),getCoreRowModel:Ce(),getFilteredRowModel:$e(),getPaginationRowModel:he(),getSortedRowModel:ye(),getFacetedRowModel:xe(),getFacetedUniqueValues:be()});return(i,d)=>{const f=we,m=ge,h=pe,C=fe,k=_e,I=me;return o(),v("div",it,[e(rt,{table:$(u)},null,8,["table"]),p("div",ut,[e(I,null,{default:a(()=>[e(h,null,{default:a(()=>[(o(!0),v(D,null,M($(u).getHeaderGroups(),P=>(o(),_(m,{key:P.id},{default:a(()=>[(o(!0),v(D,null,M(P.headers,S=>(o(),_(f,{key:S.id},{default:a(()=>[S.isPlaceholder?F("",!0):(o(),_($(W),{key:0,render:S.column.columnDef.header,props:S.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),e(k,null,{default:a(()=>{var P;return[(P=$(u).getRowModel().rows)!=null&&P.length?(o(!0),v(D,{key:0},M($(u).getRowModel().rows,S=>(o(),_(m,{key:S.id,"data-state":S.getIsSelected()&&"selected"},{default:a(()=>[(o(!0),v(D,null,M(S.getVisibleCells(),A=>(o(),_(C,{key:A.id},{default:a(()=>[e($(W),{render:A.column.columnDef.cell,props:A.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(o(),_(m,{key:1},{default:a(()=>[e(C,{colspan:i.columns.length,class:"h-24 text-center"},{default:a(()=>d[0]||(d[0]=[w(" Nenhum resultado. ")])),_:1},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),e(Ye,{table:$(u)},null,8,["table"])])}}}),dt={class:"w-full flex flex-col items-stretch gap-4"},mt={key:0,class:"w-full p-8 flex justify-center"},Dt=T({__name:"index",async setup(s){let t,n;const{getArticles:l}=ue(),{data:r,pending:c,refresh:u}=([t,n]=le(()=>ce("articles",l)),t=await t,n(),t);return re(()=>{u()}),(i,d)=>{const f=ie;return o(),v("div",dt,[d[0]||(d[0]=p("div",{class:"flex flex-wrap items-end justify-between gap-2"},[p("div",null,[p("h2",{class:"text-2xl font-bold tracking-tight"}," Artigos "),p("p",{class:"text-muted-foreground"}," Gerencie todos os artigos do sistema ")])],-1)),$(c)?(o(),v("div",mt,[e(f,{class:"w-full h-[300px]"})])):(o(),_(ct,{key:1,data:$(r)||[],columns:$(qe)},null,8,["data","columns"]))])}}});export{Dt as default};
