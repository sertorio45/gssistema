import{d as D,H as I,s as H,r as R,I as T,J as j,c as m,a as n,g as q,h as F,u as o,b as e,w as a,f as G,o as r,e as i,i as J,z as K}from"./xwqOR6O6.js";import{c as L,_ as M,a as O,b as P}from"./FWDhT1Qz.js";import{_ as Q}from"./DuRK4C2V.js";import{_ as U}from"./i4VSf2Tc.js";import{_ as W}from"./Q93s9YDH.js";import{u as X,a as Y}from"./C-GWNJw8.js";import"./BoBO-dhD.js";import"./BKTptsQI.js";import"./BcUF11S_.js";import"./Dheb4U_G.js";import"./DAVZSaiA.js";const Z={class:"container"},tt={class:"mb-8"},et={class:"flex flex-wrap items-center justify-between gap-4"},at={key:0},st={key:0},ot={key:1,class:"max-w-md mx-auto"},vt=D({__name:"[id]",async setup(nt){let l,p;const C=I(),u=H(),_=R(!1),c=C.params.id,{getArticle:b,updateArticle:y}=X(),{data:s,pending:$,error:k}=([l,p]=T(()=>Y(`article-${c}`,()=>b(c))),l=await l,p(),l),h=j(()=>s.value?{title:s.value.title,content:s.value.content,meta_description:s.value.meta_description,slug:s.value.slug,status:s.value.status,categories:s.value.categories,tags:s.value.tags}:{});async function A(g){try{_.value=!0,await y(c,g)&&u.push("/articles")}catch(t){console.error("Erro ao atualizar artigo:",t)}finally{_.value=!1}}function V(){u.push("/articles")}return(g,t)=>{const d=J,f=G,v=K,B=O,N=Q,z=M,x=P,E=U,w=L;return r(),m("div",Z,[n("div",tt,[n("div",et,[t[4]||(t[4]=n("div",null,[n("h2",{class:"text-2xl font-bold tracking-tight"}," Editar Artigo "),n("p",{class:"text-muted-foreground mt-1"}," Atualize as informações do artigo ")],-1)),o(s)?(r(),m("div",at,[e(f,{variant:"outline",class:"mr-2",onClick:t[0]||(t[0]=S=>o(u).push(`/articles/${o(c)}`))},{default:a(()=>[e(d,{name:"radix-icons:eye-open",class:"mr-2 h-4 w-4"}),t[2]||(t[2]=i(" Visualizar artigo "))]),_:1}),e(f,null,{default:a(()=>[e(d,{name:"radix-icons:magic-wand",class:"mr-2 h-4 w-4"}),t[3]||(t[3]=i(" Gerar com IA "))]),_:1})])):F("",!0)])]),o($)?(r(),m("div",st,[e(v,{class:"w-full h-[60px] rounded-lg"}),e(v,{class:"w-full h-[500px] rounded-lg"})])):o(k)||!o(s)?(r(),m("div",ot,[e(w,{class:"border-destructive/50"},{default:a(()=>[e(z,null,{default:a(()=>[e(B,{class:"flex items-center text-destructive"},{default:a(()=>[e(d,{name:"i-radix-icons-exclamation-triangle",class:"mr-2 h-5 w-5 text-destructive"}),t[5]||(t[5]=i(" Erro ao carregar "))]),_:1}),e(N,null,{default:a(()=>t[6]||(t[6]=[i(" Não foi possível carregar o artigo solicitado ")])),_:1})]),_:1}),e(x,null,{default:a(()=>t[7]||(t[7]=[n("p",null,"Verifique se o artigo existe ou tente novamente mais tarde.",-1)])),_:1}),e(E,{class:"border-t bg-muted/50 px-6 py-4"},{default:a(()=>[e(f,{variant:"default",onClick:t[1]||(t[1]=S=>o(u).push("/articles"))},{default:a(()=>[e(d,{name:"i-radix-icons-arrow-left",class:"mr-2 h-4 w-4 text-primary-foreground"}),t[8]||(t[8]=i(" Voltar para a lista "))]),_:1})]),_:1})]),_:1})])):(r(),q(w,{key:2,class:"shadow-sm border-0 overflow-hidden"},{default:a(()=>[e(x,{class:"p-0"},{default:a(()=>[e(W,{"initial-values":o(h),"is-editing":!0,"is-submitting":o(_),onSubmit:A,onCancel:V},null,8,["initial-values","is-submitting"])]),_:1})]),_:1}))])}}});export{vt as default};
